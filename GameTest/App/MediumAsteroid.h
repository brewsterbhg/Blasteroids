#pragma once
#include "GameObject.h"
#include "Player.h"

class MediumAsteroid : GameObject
{
	//Constants
	static const int MD_WIDTH = 100;
	static const int MEDIUM_ASTEROID_HEALTH = 9;

private:
	//Asteroid's existence
	bool m_isActive;

	//Asteroids's position
	float _x, _y;

	//Asteroid's current angle
	int m_angle;

	//Asteroid's direction
	float m_direction;

	//Asteroid's size
	float m_width;
	float m_height;

	//Asteroid's trajectory
	float m_trajectoryX, m_trajectoryY;

	//Track the points
	int m_points[12];

	//Asteroids Health
	int m_health;

	//Asteroid's Colour (based on HP)
	float _R, _G, _B;

public:
	//-------------------------------------------------------------------------------------------
	// void New();
	//-------------------------------------------------------------------------------------------
	// Sets up the asteroid variables
	//-------------------------------------------------------------------------------------------
	void New(float, float, float);

	//-------------------------------------------------------------------------------------------
	// void Render();
	//-------------------------------------------------------------------------------------------
	// Renders the asteroid
	//-------------------------------------------------------------------------------------------
	void Render();

	//-------------------------------------------------------------------------------------------
	// void Update();
	//-------------------------------------------------------------------------------------------
	// Handles spinning the asteroid and checking for wrap
	//-------------------------------------------------------------------------------------------
	void Update();

	//-------------------------------------------------------------------------------------------
	// void AsteroidHit(int);
	//-------------------------------------------------------------------------------------------
	// Handles when the asteroid has been hit by a bullet
	// @param numOfTimes - Adjust how many hit points to decrement by (defaulted to 1)
	//-------------------------------------------------------------------------------------------
	void AsteroidHit(int = 1);

	//-------------------------------------------------------------------------------------------
	// void DestroyAsteroid();
	//-------------------------------------------------------------------------------------------
	// Handles when an asteroid has been destroyed
	//-------------------------------------------------------------------------------------------
	void DestroyAsteroid();

	//-------------------------------------------------------------------------------------------
	// void CheckCollision();
	//-------------------------------------------------------------------------------------------
	// Checks collisions with asteroids
	// @param x - The X position to check
	// @param y - The Y position to check
	// @param radius - The radius of the object
	//-------------------------------------------------------------------------------------------
	bool CheckCollision(float, float, float);

	/*--------------------------
	ACCESSORS
	--------------------------*/

	//-------------------------------------------------------------------------------------------
	// float GetX();
	//-------------------------------------------------------------------------------------------
	// Returns x pos of asteroid
	//-------------------------------------------------------------------------------------------
	float GetX();

	//-------------------------------------------------------------------------------------------
	// float GetY();
	//-------------------------------------------------------------------------------------------
	// Returns y pos of asteroid
	//-------------------------------------------------------------------------------------------
	float GetY();

	//-------------------------------------------------------------------------------------------
	// float GetIsActive();
	//-------------------------------------------------------------------------------------------
	// Returns whether the asteroid is active
	//-------------------------------------------------------------------------------------------
	bool GetIsActive();
};